<section class="page quran">

  <!-- 1. Header -->
  <header class="q-header sticky-header">
    <div class="q-header-top">
      <button class="icon-btn" id="q-back-btn"><i data-lucide="chevron-left"></i></button>
      <div class="q-header-info">
        <h1 class="q-title" id="q-header-title">Al-Quran</h1>
        <small id="q-header-subtitle" class="q-subtitle">Select Surah</small>
      </div>
      <div class="q-header-actions">
        <button class="icon-btn" id="q-search-btn"><i data-lucide="search"></i></button>
        <button class="icon-btn" id="q-settings-btn"><i data-lucide="settings-2"></i></button>
      </div>
    </div>

    <!-- Search Bar (Collapsible) -->
    <div id="q-search-bar" class="q-search-bar hidden">
      <input type="text" id="q-search-input" placeholder="Search Surah (e.g. Mulk)..." autocomplete="off">
    </div>
  </header>

  <!-- 2. Main content area -->
  <div id="quran-main-view" class="q-content">

    <!-- Tabs -->
    <div class="q-tabs">
      <div class="q-tabs-track">
        <button class="q-tab active" data-tab="surah">Surah</button>
        <button class="q-tab" data-tab="juz">Juz</button>
        <button class="q-tab" data-tab="bookmarks">Bookmarks</button>
      </div>
    </div>

    <!-- Surah List Container -->
    <div id="surah-list" class="q-list">
      <!-- Populated by JS -->
      <div class="q-loading-state">
        <i data-lucide="loader-2" class="animate-spin"></i>
        <p>Loading Quran Data...</p>
      </div>
    </div>

  </div>

  <!-- 3. Ayah View (Reader) -->
  <div id="ayah-view" class="ayah-view hidden">
    <!-- Surah Header Card -->
    <div class="q-surah-card" id="q-surah-detail-card">
      <div class="q-sc-content">
        <h2 id="det-name-ar">--</h2> <!-- Arabic Name -->
        <h3 id="det-name-en">--</h3> <!-- English Name -->
        <div class="q-sc-meta">
          <span id="det-place">--</span> â€¢ <span id="det-ayahs-count">--</span> Ayahs
        </div>
      </div>
    </div>

    <!-- Ayah List -->
    <!-- Ayah List -->
    <div id="ayah-list" class="ayah-list-container">
      <!-- JS populates .ayah-item -->
    </div>
  </div>

  <!-- 6. Settings Modal -->
  <div id="q-settings-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Quran Settings</h3>
        <button id="q-settings-close" class="icon-btn"><i data-lucide="x"></i></button>
      </div>
      <div class="modal-body">
        <!-- Reciter -->
        <div class="setting-item">
          <label>Reciter</label>
          <select id="q-setting-reciter" class="onb-select">
            <option value="ar.alafasy">Mishary Rashid Alafasy</option>
            <option value="ar.abdulbasitmurattal">Abdul Basit (Murattal)</option>
            <option value="ar.sudais">Abdurrahmaan As-Sudais</option>
            <option value="ar.hudhaify">Ali Al-Hudhaify</option>
            <option value="ar.husary">Mahmoud Khalil Al-Husary</option>
          </select>
        </div>

        <!-- Translation -->
        <div class="setting-item">
          <label>Translation</label>
          <select id="q-setting-translation" class="onb-select">
            <option value="en.sahih">English (Sahih International)</option>
            <option value="en.asar">English (Clear Quran)</option>
            <option value="ur.jalandhry">Urdu (Jalandhry)</option>
            <option value="bn.bengali">Bengali (Muhiuddin Khan)</option>
            <option value="none">None (Arabic Only)</option>
          </select>
        </div>

        <!-- Font Size -->
        <div class="setting-item">
          <label>Arabic Size</label>
          <div class="range-wrapper">
            <small>A</small>
            <input type="range" id="q-setting-font" min="18" max="48" step="2" value="26">
            <big>A</big>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button class="primary-btn" id="q-settings-save">Save</button>
      </div>
    </div>
  </div>

  <style>
    /* Inline Critical Styles for Layout to prevent Flash */
    .sticky-header {
      position: sticky;
      top: 0;
      z-index: 50;
      background: var(--bg);
      border-bottom: 1px solid var(--divider);
    }

    .hidden {
      display: none !important;
    }
  </style>

</section>