<section class="page prayer-time">

  <!-- Header -->
  <header class="pt-header">
    <button class="icon-btn" id="pt-back-btn"><i data-lucide="chevron-left"></i></button>
    <h1 class="pt-title">Prayer Times</h1>
    <button class="icon-btn" id="pt-settings-btn"><i data-lucide="settings"></i></button>
  </header>

  <!-- Date & Location -->
  <div class="pt-info-bar">
    <div class="pt-date" id="pt-date">-- ---, ---</div>
    <div class="pt-location" id="pt-location">Detecting location...</div>
  </div>

  <!-- Current Prayer Status -->
  <div class="pt-current-status">
    <div class="pt-status-card">
      <div class="pt-status-label">Current Prayer</div>
      <div class="pt-status-prayer" id="pt-current-prayer">--</div>
      <div class="pt-status-time" id="pt-current-time">
        <span id="pt-time-remaining">--:--</span>
        <span class="pt-time-label">remaining</span>
      </div>
    </div>
  </div>

  <!-- Complete Prayer Schedule (All 12 Times) -->
  <div class="pt-schedule">
    <h2 class="pt-section-title">Daily Schedule</h2>

    <!-- Fajr -->
    <div class="pt-time-row pt-prayer" data-prayer="Fajr">
      <div class="pt-time-icon">
        <i data-lucide="sunrise"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Fajr</div>
        <div class="pt-time-description">Dawn Prayer</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Fajr">--:-- am</span>
      </div>
      <div class="pt-time-status" id="pt-status-Fajr"></div>
    </div>

    <!-- Sunrise -->
    <div class="pt-time-row pt-sunrise pt-highlight-sunrise" data-time="Sunrise">
      <div class="pt-time-icon">
        <i data-lucide="sun"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Sunrise</div>
        <div class="pt-time-description">Forbidden time begins</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Sunrise">--:-- am</span>
      </div>
      <div class="pt-time-status">
        <span class="pt-badge-sunrise">Sunrise</span>
      </div>
    </div>

    <!-- Forbidden Time 1 -->
    <div class="pt-time-row pt-forbidden pt-highlight-forbidden">
      <div class="pt-time-icon">
        <i data-lucide="alert-circle"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Forbidden Time</div>
        <div class="pt-time-description">No prayers allowed</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Forbidden1">--:-- am - --:-- am</span>
      </div>
      <div class="pt-time-status">
        <span class="pt-badge-forbidden">⚠ Forbidden</span>
      </div>
    </div>

    <!-- Salatul Duha -->
    <div class="pt-time-row pt-duha" data-prayer="Duha">
      <div class="pt-time-icon">
        <i data-lucide="zap"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Salatul Duha</div>
        <div class="pt-time-description">Forenoon Prayer</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Duha">--:-- am - --:-- am</span>
      </div>
      <div class="pt-time-status" id="pt-status-Duha"></div>
    </div>

    <!-- Forbidden Time 2 -->
    <div class="pt-time-row pt-forbidden pt-highlight-forbidden">
      <div class="pt-time-icon">
        <i data-lucide="alert-circle"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Forbidden Time</div>
        <div class="pt-time-description">No prayers allowed</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Forbidden2">--:-- am - --:-- am</span>
      </div>
      <div class="pt-time-status">
        <span class="pt-badge-forbidden">⚠ Forbidden</span>
      </div>
    </div>

    <!-- Dhuhr -->
    <div class="pt-time-row pt-prayer" data-prayer="Dhuhr">
      <div class="pt-time-icon">
        <i data-lucide="cloud"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Dhuhr</div>
        <div class="pt-time-description">Noon Prayer</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Dhuhr">--:-- am</span>
      </div>
      <div class="pt-time-status" id="pt-status-Dhuhr"></div>
    </div>

    <!-- Asr -->
    <div class="pt-time-row pt-prayer" data-prayer="Asr">
      <div class="pt-time-icon">
        <i data-lucide="eye"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Asr</div>
        <div class="pt-time-description">Afternoon Prayer</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Asr">--:-- am</span>
      </div>
      <div class="pt-time-status" id="pt-status-Asr"></div>
    </div>

    <!-- Forbidden Time 3 -->
    <div class="pt-time-row pt-forbidden pt-highlight-forbidden">
      <div class="pt-time-icon">
        <i data-lucide="alert-circle"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Forbidden Time</div>
        <div class="pt-time-description">No prayers allowed</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Forbidden3">--:-- am - --:-- am</span>
      </div>
      <div class="pt-time-status">
        <span class="pt-badge-forbidden">⚠ Forbidden</span>
      </div>
    </div>

    <!-- Sunset -->
    <div class="pt-time-row pt-sunset pt-highlight-sunset" data-time="Sunset">
      <div class="pt-time-icon">
        <i data-lucide="sunset"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Sunset</div>
        <div class="pt-time-description">End of forbidden time</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Sunset">--:-- pm</span>
      </div>
      <div class="pt-time-status">
        <span class="pt-badge-sunset">Sunset</span>
      </div>
    </div>

    <!-- Maghrib -->
    <div class="pt-time-row pt-prayer" data-prayer="Maghrib">
      <div class="pt-time-icon">
        <i data-lucide="moon"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Maghrib</div>
        <div class="pt-time-description">Evening Prayer</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Maghrib">--:-- pm</span>
      </div>
      <div class="pt-time-status" id="pt-status-Maghrib"></div>
    </div>

    <!-- Isha -->
    <div class="pt-time-row pt-prayer" data-prayer="Isha">
      <div class="pt-time-icon">
        <i data-lucide="stars"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Isha</div>
        <div class="pt-time-description">Night Prayer</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Isha">--:-- pm</span>
      </div>
      <div class="pt-time-status" id="pt-status-Isha"></div>
    </div>

    <!-- Tahajjud -->
    <div class="pt-time-row pt-tahajjud" data-prayer="Tahajjud">
      <div class="pt-time-icon">
        <i data-lucide="star"></i>
      </div>
      <div class="pt-time-info">
        <div class="pt-time-name">Tahajjud</div>
        <div class="pt-time-description">Late Night Prayer</div>
      </div>
      <div class="pt-time-value">
        <span class="pt-waqt" id="pt-Tahajjud">--:-- pm - --:-- am</span>
      </div>
      <div class="pt-time-status" id="pt-status-Tahajjud"></div>
    </div>
  </div>

  <!-- Legend / Information -->
  <div class="pt-legend">
    <h3 class="pt-legend-title">Legend</h3>
    <div class="pt-legend-items">
      <div class="pt-legend-item">
        <span class="pt-legend-dot pt-legend-current"></span>
        <span>Current Prayer</span>
      </div>
      <div class="pt-legend-item">
        <span class="pt-legend-dot pt-legend-sunrise"></span>
        <span>Sunrise</span>
      </div>
      <div class="pt-legend-item">
        <span class="pt-legend-dot pt-legend-sunset"></span>
        <span>Sunset</span>
      </div>
      <div class="pt-legend-item">
        <span class="pt-legend-dot pt-legend-forbidden"></span>
        <span>Forbidden Time</span>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="pt-actions">
    <button class="pt-btn-action" id="pt-btn-set-location">
      <i data-lucide="map-pin"></i>
      Set Location
    </button>
    <button class="pt-btn-action" id="pt-btn-notification">
      <i data-lucide="bell"></i>
      Notifications
    </button>
    <button class="pt-btn-action" id="pt-btn-download">
      <i data-lucide="download"></i>
      Download
    </button>
  </div>

</section>

<style>
/* Prayer Time Page Styles */
.prayer-time {
  padding-bottom: var(--space-lg);
}

.pt-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-md);
  background: var(--surface);
  border-bottom: 1px solid var(--divider);
  gap: var(--space-md);
}

.pt-title {
  font-size: var(--font-lg);
  font-weight: 600;
  color: var(--text-primary);
  flex: 1;
}

.pt-info-bar {
  padding: var(--space-md);
  background: var(--surface-soft);
  border-bottom: 1px solid var(--divider);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-md);
}

.pt-date {
  font-size: var(--font-sm);
  color: var(--text-secondary);
  font-weight: 500;
}

.pt-location {
  font-size: var(--font-sm);
  color: var(--text-muted);
}

.pt-current-status {
  padding: var(--space-lg);
  background: linear-gradient(135deg, var(--primary), var(--primary-soft));
  color: white;
}

.pt-status-card {
  text-align: center;
}

.pt-status-label {
  font-size: var(--font-sm);
  opacity: 0.9;
  margin-bottom: var(--space-xs);
}

.pt-status-prayer {
  font-size: var(--font-xl);
  font-weight: 700;
  margin-bottom: var(--space-sm);
}

.pt-status-time {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xs);
}

.pt-time-remaining {
  font-size: 24px;
  font-weight: 600;
}

.pt-time-label {
  font-size: var(--font-sm);
  opacity: 0.85;
}

.pt-section-title {
  font-size: var(--font-md);
  font-weight: 600;
  color: var(--text-primary);
  padding: var(--space-lg) var(--space-md) var(--space-sm);
  margin: 0;
}

.pt-schedule {
  padding: var(--space-md) 0;
}

.pt-time-row {
  display: grid;
  grid-template-columns: 40px 1fr auto auto;
  gap: var(--space-md);
  align-items: center;
  padding: var(--space-md) var(--space-md);
  border-bottom: 1px solid var(--divider);
  transition: all var(--transition-normal);
  position: relative;
}

.pt-time-row:hover {
  background: var(--surface-soft);
}

.pt-time-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: var(--radius-sm);
  background: var(--surface);
  color: var(--text-secondary);
  font-size: 20px;
}

.pt-prayer .pt-time-icon {
  background: rgba(46, 126, 157, 0.1);
  color: var(--primary);
}

.pt-duha .pt-time-icon {
  background: rgba(255, 193, 7, 0.1);
  color: #ffc107;
}

.pt-forbidden .pt-time-icon {
  background: rgba(225, 75, 75, 0.1);
  color: var(--alert);
}

.pt-sunrise .pt-time-icon {
  background: rgba(255, 152, 0, 0.1);
  color: #ff9800;
}

.pt-sunset .pt-time-icon {
  background: rgba(233, 30, 99, 0.1);
  color: #e91e63;
}

.pt-tahajjud .pt-time-icon {
  background: rgba(63, 81, 181, 0.1);
  color: #3f51b5;
}

.pt-time-info {
  display: flex;
  flex-direction: column;
  gap: var(--space-2xs);
}

.pt-time-name {
  font-size: var(--font-md);
  font-weight: 600;
  color: var(--text-primary);
}

.pt-time-description {
  font-size: var(--font-xs);
  color: var(--text-muted);
}

.pt-time-value {
  text-align: right;
}

.pt-waqt {
  font-size: var(--font-md);
  font-weight: 600;
  color: var(--text-primary);
  display: block;
}

.pt-time-status {
  display: flex;
  align-items: center;
}

/* Badges */
.pt-badge-sunrise,
.pt-badge-sunset,
.pt-badge-forbidden {
  padding: 4px 10px;
  border-radius: var(--radius-pill);
  font-size: var(--font-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.pt-badge-sunrise {
  background: rgba(255, 152, 0, 0.2);
  color: #ff9800;
}

.pt-badge-sunset {
  background: rgba(233, 30, 99, 0.2);
  color: #e91e63;
}

.pt-badge-forbidden {
  background: rgba(225, 75, 75, 0.2);
  color: var(--alert);
}

/* Highlight Classes */
.pt-highlight-sunrise {
  background: linear-gradient(90deg, rgba(255, 152, 0, 0.05) 0%, transparent 100%);
  border-left: 4px solid #ff9800;
}

.pt-highlight-sunset {
  background: linear-gradient(90deg, rgba(233, 30, 99, 0.05) 0%, transparent 100%);
  border-left: 4px solid #e91e63;
}

.pt-highlight-forbidden {
  background: linear-gradient(90deg, rgba(225, 75, 75, 0.05) 0%, transparent 100%);
  border-left: 4px solid var(--alert);
}

/* Current Prayer Highlight */
.pt-time-row.pt-current-prayer {
  background: linear-gradient(90deg, rgba(46, 126, 157, 0.1) 0%, transparent 100%);
  border-left: 4px solid var(--primary);
  font-weight: 600;
}

.pt-legend {
  padding: var(--space-lg);
  background: var(--surface);
  margin: var(--space-lg) var(--space-md);
  border-radius: var(--radius-md);
  border: 1px solid var(--divider);
}

.pt-legend-title {
  font-size: var(--font-sm);
  font-weight: 600;
  color: var(--text-secondary);
  margin: 0 0 var(--space-md) 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.pt-legend-items {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-md);
}

.pt-legend-item {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  font-size: var(--font-sm);
  color: var(--text-secondary);
}

.pt-legend-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  flex-shrink: 0;
}

.pt-legend-current {
  background: var(--primary);
}

.pt-legend-sunrise {
  background: #ff9800;
}

.pt-legend-sunset {
  background: #e91e63;
}

.pt-legend-forbidden {
  background: var(--alert);
}

.pt-actions {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-md);
  padding: var(--space-lg) var(--space-md);
}

.pt-btn-action {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-xs);
  padding: var(--space-md);
  background: var(--surface);
  border: 1px solid var(--divider);
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  font-size: var(--font-xs);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-normal);
}

.pt-btn-action:active {
  background: var(--surface-soft);
  border-color: var(--primary);
  color: var(--primary);
}

.pt-btn-action i {
  font-size: 24px;
}

/* Dark Mode */
:root[data-theme="dark"] .pt-time-row.pt-highlight-sunrise {
  border-left-color: #ffb74d;
}

:root[data-theme="dark"] .pt-time-row.pt-highlight-sunset {
  border-left-color: #f48fb1;
}

:root[data-theme="dark"] .pt-time-row.pt-highlight-forbidden {
  border-left-color: #ef5350;
}

:root[data-theme="dark"] .pt-time-row.pt-current-prayer {
  border-left-color: #64b5f6;
}
</style>

<script>
/* Prayer Time Page Initialization */
function initPrayerTimePage() {
  // Back button
  const backBtn = document.getElementById('pt-back-btn');
  if (backBtn) {
    backBtn.onclick = () => loadPage('home');
  }

  // Update prayer times (mock data - replace with API)
  updatePrayerTimes();

  // Update current prayer status
  updateCurrentPrayer();

  // Refresh every minute
  setInterval(updateCurrentPrayer, 60000);
}

function updatePrayerTimes() {
  // Mock prayer times - Replace with actual API call
  const times = {
    'Fajr': '05:30 am',
    'Sunrise': '07:00 am',
    'Forbidden1': '07:00 am - 09:00 am',
    'Duha': '09:00 am - 11:30 am',
    'Forbidden2': '11:30 am - 12:00 pm',
    'Dhuhr': '12:30 pm',
    'Asr': '03:45 pm',
    'Forbidden3': '03:45 pm - 05:15 pm',
    'Sunset': '05:15 pm',
    'Maghrib': '05:20 pm',
    'Isha': '06:50 pm',
    'Tahajjud': '02:00 am - 04:00 am'
  };

  Object.keys(times).forEach(key => {
    const el = document.getElementById(`pt-${key}`);
    if (el) el.textContent = times[key];
  });

  // Update date
  const dateEl = document.getElementById('pt-date');
  if (dateEl) {
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    dateEl.textContent = new Date().toLocaleDateString('en-US', options);
  }
}

function updateCurrentPrayer() {
  // Mock current prayer - Replace with actual logic
  const now = new Date();
  const hours = now.getHours();

  let currentPrayer = '--';
  let timeRemaining = '--:--';

  if (hours >= 5 && hours < 7) {
    currentPrayer = 'Fajr';
  } else if (hours >= 12 && hours < 15) {
    currentPrayer = 'Dhuhr';
  } else if (hours >= 15 && hours < 17) {
    currentPrayer = 'Asr';
  } else if (hours >= 17 && hours < 19) {
    currentPrayer = 'Maghrib';
  } else if (hours >= 19 && hours < 22) {
    currentPrayer = 'Isha';
  }

  document.getElementById('pt-current-prayer').textContent = currentPrayer;
  
  // Highlight current prayer row
  document.querySelectorAll('.pt-time-row').forEach(row => {
    row.classList.remove('pt-current-prayer');
    if (row.getAttribute('data-prayer') === currentPrayer) {
      row.classList.add('pt-current-prayer');
    }
  });
}

// Initialize when page loads
if (window.location.pathname.includes('prayer-time')) {
  initPrayerTimePage();
}
</script>
